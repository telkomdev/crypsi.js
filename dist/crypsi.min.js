var crypsi;(()=>{"use strict";var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{aes:()=>e,digest:()=>r,fromHex:()=>s,hmac:()=>i,rsa:()=>o,toHex:()=>a});var e={};t.r(e),t.d(e,{decryptWithAes128Cbc:()=>k,decryptWithAes128Gcm:()=>R,decryptWithAes192Cbc:()=>H,decryptWithAes192Gcm:()=>K,decryptWithAes256Cbc:()=>B,decryptWithAes256Gcm:()=>U,encryptWithAes128Cbc:()=>P,encryptWithAes128Gcm:()=>M,encryptWithAes192Cbc:()=>G,encryptWithAes192Gcm:()=>O,encryptWithAes256Cbc:()=>W,encryptWithAes256Gcm:()=>T});var r={};t.r(r),t.d(r,{sha1DigestHex:()=>L,sha256DigestHex:()=>N,sha384DigestHex:()=>V,sha512DigestHex:()=>Y});var i={};t.r(i),t.d(i,{sha1HmacHex:()=>J,sha256HmacHex:()=>Q,sha384HmacHex:()=>X,sha512HmacHex:()=>Z});var o={};t.r(o),t.d(o,{decryptWithOAEPSha1:()=>yt,decryptWithOAEPSha256:()=>pt,decryptWithOAEPSha384:()=>dt,decryptWithOAEPSha512:()=>vt,encryptWithOAEPSha1:()=>st,encryptWithOAEPSha256:()=>lt,encryptWithOAEPSha384:()=>ft,encryptWithOAEPSha512:()=>ht,signWithPssSha1:()=>gt,signWithPssSha256:()=>Ct,signWithPssSha384:()=>St,signWithPssSha512:()=>At,verifySignatureWithPssSha1:()=>mt,verifySignatureWithPssSha256:()=>Et,verifySignatureWithPssSha384:()=>xt,verifySignatureWithPssSha512:()=>Pt});var c="0123456789abcdef",u={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function a(t){return Array.from(t||[]).map((function(t){return c[t>>4]+c[15&t]})).join("")}function s(t){var n,e=new Uint8Array(Math.floor((t||"").length/2));for(n=0;n<e.length;n++){var r=u[t[2*n]],i=u[t[2*n+1]];if(void 0===r||void 0===i)break;e[n]=r<<4|i}return n===e.length?e:e.slice(0,n)}function l(t){for(var n=new ArrayBuffer(t.length),e=new Uint8Array(n),r=0,i=t.length;r<i;r++)e[r]=t.charCodeAt(r);return n}var f="SHA-1",h="SHA-256",y="SHA-384",p="SHA-512",d={"SHA-1":20,"SHA-256":32,"SHA-384":48,"SHA-512":64},v=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}a((r=r.apply(t,n||[])).next())}))},b=function(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},w={128:16,192:24,256:32},g={16:128,24:192,32:256},C={GCM:"AES-GCM",CBC:"AES-CBC"},S={GCM:crypto.getRandomValues(new Uint8Array(12)),CBC:crypto.getRandomValues(new Uint8Array(16))};function A(t,n,e){if(!Object.prototype.hasOwnProperty.call(g,n.length))throw new Error("invalid key AES key length, key length should be 16, 24 or 32 bytes");if(n.length!==w[e])throw new Error("invalid key length, AES ".concat(e," key length should be ").concat(w[e]," bytes length"));if(!Object.prototype.hasOwnProperty.call(C,t))throw new Error("invalid mode, mode ".concat(t," does not exist"))}function m(t,n){return v(this,void 0,void 0,(function(){var e;return b(this,(function(r){switch(r.label){case 0:return e=new TextEncoder,[4,crypto.subtle.importKey("raw",e.encode(t),{name:C[n],length:g[t.length]},!0,["encrypt","decrypt"])];case 1:return[2,r.sent()]}}))}))}function E(t,n,e){return v(this,void 0,void 0,(function(){var r,i,o,c,u,s,l,f;return b(this,(function(h){switch(h.label){case 0:return[4,m(t,n)];case 1:return r=h.sent(),i=new TextEncoder,o=i.encode(e),u={name:C[n],iv:c=S[n]},[4,crypto.subtle.encrypt(u,r,o)];case 2:return s=h.sent(),l=new Uint8Array(s),(f=new Uint8Array(c.length+l.length)).set(c),f.set(l,c.length),[2,a(f)]}}))}))}function x(t,n,e){return v(this,void 0,void 0,(function(){var r,i,o;return b(this,(function(c){switch(c.label){case 0:return[4,m(t,n)];case 1:return r=c.sent(),i=function(t,n){var e={GCM:s(t.slice(0,24)),CBC:s(t.slice(0,32))},r={GCM:s(t.slice(24,t.length)),CBC:s(t.slice(32,t.length))};return{iv:e[n],cipherData:r[n]}}(e,n),o={name:C[n],iv:i.iv},[4,crypto.subtle.decrypt(o,r,i.cipherData)];case 2:return[2,c.sent()]}}))}))}function P(t,n){return A("CBC",t,128),E(t,"CBC",n)}function G(t,n){return A("CBC",t,192),E(t,"CBC",n)}function W(t,n){return A("CBC",t,256),E(t,"CBC",n)}function k(t,n){return A("CBC",t,128),x(t,"CBC",n)}function H(t,n){return A("CBC",t,192),x(t,"CBC",n)}function B(t,n){return A("CBC",t,256),x(t,"CBC",n)}function M(t,n){return A("GCM",t,128),E(t,"GCM",n)}function O(t,n){return A("GCM",t,192),E(t,"GCM",n)}function T(t,n){return A("GCM",t,256),E(t,"GCM",n)}function R(t,n){return A("GCM",t,128),x(t,"GCM",n)}function K(t,n){return A("GCM",t,192),x(t,"GCM",n)}function U(t,n){return A("GCM",t,256),x(t,"GCM",n)}var D=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}a((r=r.apply(t,n||[])).next())}))},j=function(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};function I(t,n){return D(this,void 0,void 0,(function(){var e;return j(this,(function(r){switch(r.label){case 0:return[4,crypto.subtle.digest(t,n)];case 1:return e=r.sent(),[2,new Uint8Array(e)]}}))}))}function L(t){return D(this,void 0,void 0,(function(){var n;return j(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(n=new TextEncoder,t=n.encode(t)),[4,I(f,t)];case 1:return[2,a(e.sent())]}}))}))}function N(t){return D(this,void 0,void 0,(function(){var n;return j(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(n=new TextEncoder,t=n.encode(t)),[4,I(h,t)];case 1:return[2,a(e.sent())]}}))}))}function V(t){return D(this,void 0,void 0,(function(){var n;return j(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(n=new TextEncoder,t=n.encode(t)),[4,I(y,t)];case 1:return[2,a(e.sent())]}}))}))}function Y(t){return D(this,void 0,void 0,(function(){var n;return j(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(n=new TextEncoder,t=n.encode(t)),[4,I(p,t)];case 1:return[2,a(e.sent())]}}))}))}var _=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}a((r=r.apply(t,n||[])).next())}))},F=function(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};function q(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:if(t.length<32)throw new Error("min key length must be ".concat(32," bytes length"));return e=new TextEncoder,[4,crypto.subtle.importKey("raw",e.encode(t),{name:"HMAC",hash:n},!1,["sign","verify"])];case 1:return[2,r.sent()]}}))}))}function z(t,n,e){return _(this,void 0,void 0,(function(){var r,i;return F(this,(function(o){switch(o.label){case 0:return[4,q(t,n)];case 1:return r=o.sent(),[4,crypto.subtle.sign("HMAC",r,e)];case 2:return i=o.sent(),[2,new Uint8Array(i)]}}))}))}function J(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:return"string"==typeof n&&(e=new TextEncoder,n=e.encode(n)),[4,z(t,f,n)];case 1:return[2,a(r.sent())]}}))}))}function Q(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:return"string"==typeof n&&(e=new TextEncoder,n=e.encode(n)),[4,z(t,h,n)];case 1:return[2,a(r.sent())]}}))}))}function X(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:return"string"==typeof n&&(e=new TextEncoder,n=e.encode(n)),[4,z(t,y,n)];case 1:return[2,a(r.sent())]}}))}))}function Z(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:return"string"==typeof n&&(e=new TextEncoder,n=e.encode(n)),[4,z(t,p,n)];case 1:return[2,a(r.sent())]}}))}))}var $=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}a((r=r.apply(t,n||[])).next())}))},tt=function(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};function nt(t){var n=t.substring("-----BEGIN PUBLIC KEY-----".length,t.length-"-----END PUBLIC KEY-----\n".length);return l(window.atob(n))}function et(t){var n=t.substring("-----BEGIN PRIVATE KEY-----".length,t.length-"-----END PRIVATE KEY-----\n".length);return l(window.atob(n))}function rt(t,n){return $(this,void 0,void 0,(function(){var e;return tt(this,(function(r){switch(r.label){case 0:return e=nt(t),[4,crypto.subtle.importKey("spki",e,{name:"RSA-OAEP",hash:n},!0,["encrypt"])];case 1:return[2,r.sent()]}}))}))}function it(t,n){return $(this,void 0,void 0,(function(){var e;return tt(this,(function(r){switch(r.label){case 0:return e=nt(t),[4,crypto.subtle.importKey("spki",e,{name:"RSA-PSS",hash:n},!0,["verify"])];case 1:return[2,r.sent()]}}))}))}function ot(t,n){return $(this,void 0,void 0,(function(){var e;return tt(this,(function(r){switch(r.label){case 0:return e=et(t),[4,window.crypto.subtle.importKey("pkcs8",e,{name:"RSA-OAEP",hash:n},!0,["decrypt"])];case 1:return[2,r.sent()]}}))}))}function ct(t,n){return $(this,void 0,void 0,(function(){var e;return tt(this,(function(r){switch(r.label){case 0:return e=et(t),[4,window.crypto.subtle.importKey("pkcs8",e,{name:"RSA-PSS",hash:n},!0,["sign"])];case 1:return[2,r.sent()]}}))}))}function ut(t,n,e){return $(this,void 0,void 0,(function(){var r;return tt(this,(function(i){switch(i.label){case 0:return[4,rt(t,n)];case 1:return r=i.sent(),[4,window.crypto.subtle.encrypt({name:"RSA-OAEP"},r,e)];case 2:return[2,i.sent()]}}))}))}function at(t,n,e){return $(this,void 0,void 0,(function(){var r;return tt(this,(function(i){switch(i.label){case 0:return[4,ot(t,n)];case 1:return r=i.sent(),[4,window.crypto.subtle.decrypt({name:"RSA-OAEP"},r,e)];case 2:return[2,i.sent()]}}))}))}function st(t,n){return ut(t,f,n)}function lt(t,n){return ut(t,h,n)}function ft(t,n){return ut(t,y,n)}function ht(t,n){return ut(t,p,n)}function yt(t,n){return at(t,f,n)}function pt(t,n){return at(t,h,n)}function dt(t,n){return at(t,y,n)}function vt(t,n){return at(t,p,n)}function bt(t,n,e){return $(this,void 0,void 0,(function(){var r;return tt(this,(function(i){switch(i.label){case 0:return[4,ct(t,n)];case 1:return r=i.sent(),[4,window.crypto.subtle.sign({name:"RSA-PSS",saltLength:d[n]},r,e)];case 2:return[2,i.sent()]}}))}))}function wt(t,n,e,r){return $(this,void 0,void 0,(function(){var i;return tt(this,(function(o){switch(o.label){case 0:return[4,it(t,e)];case 1:return i=o.sent(),[4,window.crypto.subtle.verify({name:"RSA-PSS",saltLength:d[e]},i,n,r)];case 2:return[2,o.sent()]}}))}))}function gt(t,n){return bt(t,f,n)}function Ct(t,n){return bt(t,h,n)}function St(t,n){return bt(t,y,n)}function At(t,n){return bt(t,p,n)}function mt(t,n,e){return wt(t,n,f,e)}function Et(t,n,e){return wt(t,n,h,e)}function xt(t,n,e){return wt(t,n,y,e)}function Pt(t,n,e){return wt(t,n,p,e)}crypsi=n})();
//# sourceMappingURL=crypsi.min.js.map