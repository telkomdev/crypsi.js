var crypsi;(()=>{"use strict";var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{aes:()=>e,digest:()=>r,fromHex:()=>s,hmac:()=>i,rsa:()=>o,toHex:()=>a});var e={};t.r(e),t.d(e,{decryptWithAes128Cbc:()=>x,decryptWithAes128Gcm:()=>O,decryptWithAes192Cbc:()=>P,decryptWithAes192Gcm:()=>B,decryptWithAes256Cbc:()=>W,decryptWithAes256Gcm:()=>T,encryptWithAes128Cbc:()=>m,encryptWithAes128Gcm:()=>k,encryptWithAes192Cbc:()=>H,encryptWithAes192Gcm:()=>G,encryptWithAes256Cbc:()=>E,encryptWithAes256Gcm:()=>M});var r={};t.r(r),t.d(r,{sha1:()=>K,sha256:()=>D,sha384:()=>L,sha512:()=>V});var i={};t.r(i),t.d(i,{sha1:()=>J,sha256:()=>N,sha384:()=>Q,sha512:()=>X});var o={};t.r(o),t.d(o,{decryptWithOAEPSha1:()=>ft,decryptWithOAEPSha256:()=>ht,decryptWithOAEPSha384:()=>yt,decryptWithOAEPSha512:()=>pt,encryptWithOAEPSha1:()=>ut,encryptWithOAEPSha256:()=>at,encryptWithOAEPSha384:()=>st,encryptWithOAEPSha512:()=>lt,signWithPssSha1:()=>bt,signWithPssSha256:()=>wt,signWithPssSha384:()=>St,signWithPssSha512:()=>At,verifySignatureWithPssSha1:()=>gt,verifySignatureWithPssSha256:()=>Ct,verifySignatureWithPssSha384:()=>mt,verifySignatureWithPssSha512:()=>Ht});var c="0123456789abcdef",u={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function a(t){return Array.from(t||[]).map((function(t){return c[t>>4]+c[15&t]})).join("")}function s(t){var n,e=new Uint8Array(Math.floor((t||"").length/2));for(n=0;n<e.length;n++){var r=u[t[2*n]],i=u[t[2*n+1]];if(void 0===r||void 0===i)break;e[n]=r<<4|i}return n===e.length?e:e.slice(0,n)}function l(t){for(var n=new ArrayBuffer(t.length),e=new Uint8Array(n),r=0,i=t.length;r<i;r++)e[r]=t.charCodeAt(r);return n}var f={"SHA-1":"SHA-1","SHA-256":"SHA-256","SHA-384":"SHA-384","SHA-512":"SHA-512"},h={"SHA-1":20,"SHA-256":32,"SHA-384":48,"SHA-512":64},y=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}a((r=r.apply(t,n||[])).next())}))},p=function(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(i=c.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},d={128:16,192:24,256:32},v={16:128,24:192,32:256},b={GCM:"AES-GCM",CBC:"AES-CBC"},w={GCM:crypto.getRandomValues(new Uint8Array(12)),CBC:crypto.getRandomValues(new Uint8Array(16))};function S(t,n,e){if(!Object.prototype.hasOwnProperty.call(v,n.length))throw new Error("invalid key AES key length, key length should be 16, 24 or 32 bytes");if(n.length!==d[e])throw new Error("invalid key length, AES ".concat(e," key length should be ").concat(d[e]," bytes length"));if(!Object.prototype.hasOwnProperty.call(b,t))throw new Error("invalid mode, mode ".concat(t," does not exist"))}function A(t,n){return y(this,void 0,void 0,(function(){var e;return p(this,(function(r){switch(r.label){case 0:return e=new TextEncoder,[4,crypto.subtle.importKey("raw",e.encode(t),{name:b[n],length:v[t.length]},!0,["encrypt","decrypt"])];case 1:return[2,r.sent()]}}))}))}function g(t,n,e){return y(this,void 0,void 0,(function(){var r,i,o,c,u,s,l,f;return p(this,(function(h){switch(h.label){case 0:return[4,A(t,n)];case 1:return r=h.sent(),i=new TextEncoder,o=i.encode(e),c=w[n],u={name:b[n],iv:c},[4,crypto.subtle.encrypt(u,r,o)];case 2:return s=h.sent(),l=new Uint8Array(s),(f=new Uint8Array(c.length+l.length)).set(c),f.set(l,c.length),[2,a(f)]}}))}))}function C(t,n,e){return y(this,void 0,void 0,(function(){var r,i,o;return p(this,(function(c){switch(c.label){case 0:return[4,A(t,n)];case 1:return r=c.sent(),i=function(t,n){var e={GCM:s(t.slice(0,24)),CBC:s(t.slice(0,32))},r={GCM:s(t.slice(24,t.length)),CBC:s(t.slice(32,t.length))};return{iv:e[n],cipherData:r[n]}}(e,n),o={name:b[n],iv:i.iv},[4,crypto.subtle.decrypt(o,r,i.cipherData)];case 2:return[2,c.sent()]}}))}))}function m(t,n){return S("CBC",t,128),g(t,"CBC",n)}function H(t,n){return S("CBC",t,192),g(t,"CBC",n)}function E(t,n){return S("CBC",t,256),g(t,"CBC",n)}function x(t,n){return S("CBC",t,128),C(t,"CBC",n)}function P(t,n){return S("CBC",t,192),C(t,"CBC",n)}function W(t,n){return S("CBC",t,256),C(t,"CBC",n)}function k(t,n){return S("GCM",t,128),g(t,"GCM",n)}function G(t,n){return S("GCM",t,192),g(t,"GCM",n)}function M(t,n){return S("GCM",t,256),g(t,"GCM",n)}function O(t,n){return S("GCM",t,128),C(t,"GCM",n)}function B(t,n){return S("GCM",t,192),C(t,"GCM",n)}function T(t,n){return S("GCM",t,256),C(t,"GCM",n)}var R=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}a((r=r.apply(t,n||[])).next())}))},U=function(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(i=c.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};function j(t,n){return R(this,void 0,void 0,(function(){var e;return U(this,(function(r){switch(r.label){case 0:return[4,crypto.subtle.digest(t,n)];case 1:return e=r.sent(),[2,new Uint8Array(e)]}}))}))}function K(t){return R(this,void 0,void 0,(function(){var n;return U(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(n=new TextEncoder,t=n.encode(t)),[4,j(f["SHA-1"],t)];case 1:return[2,a(e.sent())]}}))}))}function D(t){return R(this,void 0,void 0,(function(){var n;return U(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(n=new TextEncoder,t=n.encode(t)),[4,j(f["SHA-256"],t)];case 1:return[2,a(e.sent())]}}))}))}function L(t){return R(this,void 0,void 0,(function(){var n;return U(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(n=new TextEncoder,t=n.encode(t)),[4,j(f["SHA-384"],t)];case 1:return[2,a(e.sent())]}}))}))}function V(t){return R(this,void 0,void 0,(function(){var n;return U(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(n=new TextEncoder,t=n.encode(t)),[4,j(f["SHA-512"],t)];case 1:return[2,a(e.sent())]}}))}))}var _=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}a((r=r.apply(t,n||[])).next())}))},F=function(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(i=c.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},q=32;function z(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:if(t.length<q)throw new Error("min key length must be ".concat(q," bytes length"));return e=new TextEncoder,[4,crypto.subtle.importKey("raw",e.encode(t),{name:"HMAC",hash:n},!1,["sign","verify"])];case 1:return[2,r.sent()]}}))}))}function I(t,n,e){return _(this,void 0,void 0,(function(){var r,i;return F(this,(function(o){switch(o.label){case 0:return[4,z(t,n)];case 1:return r=o.sent(),[4,crypto.subtle.sign("HMAC",r,e)];case 2:return i=o.sent(),[2,new Uint8Array(i)]}}))}))}function J(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:return"string"==typeof n&&(e=new TextEncoder,n=e.encode(n)),[4,I(t,f["SHA-1"],n)];case 1:return[2,a(r.sent())]}}))}))}function N(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:return"string"==typeof n&&(e=new TextEncoder,n=e.encode(n)),[4,I(t,f["SHA-256"],n)];case 1:return[2,a(r.sent())]}}))}))}function Q(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:return"string"==typeof n&&(e=new TextEncoder,n=e.encode(n)),[4,I(t,f["SHA-384"],n)];case 1:return[2,a(r.sent())]}}))}))}function X(t,n){return _(this,void 0,void 0,(function(){var e;return F(this,(function(r){switch(r.label){case 0:return"string"==typeof n&&(e=new TextEncoder,n=e.encode(n)),[4,I(t,f["SHA-512"],n)];case 1:return[2,a(r.sent())]}}))}))}var Y=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function c(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}a((r=r.apply(t,n||[])).next())}))},Z=function(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(e=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!(i=c.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(t,c)}catch(t){u=[6,t],r=0}finally{e=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};function $(t){var n=t.substring(26,t.length-25);return l(window.atob(n))}function tt(t){var n=t.substring(27,t.length-26);return l(window.atob(n))}function nt(t,n){return Y(this,void 0,void 0,(function(){var e;return Z(this,(function(r){switch(r.label){case 0:return e=$(t),[4,crypto.subtle.importKey("spki",e,{name:"RSA-OAEP",hash:n},!0,["encrypt"])];case 1:return[2,r.sent()]}}))}))}function et(t,n){return Y(this,void 0,void 0,(function(){var e;return Z(this,(function(r){switch(r.label){case 0:return e=$(t),[4,crypto.subtle.importKey("spki",e,{name:"RSA-PSS",hash:n},!0,["verify"])];case 1:return[2,r.sent()]}}))}))}function rt(t,n){return Y(this,void 0,void 0,(function(){var e;return Z(this,(function(r){switch(r.label){case 0:return e=tt(t),[4,window.crypto.subtle.importKey("pkcs8",e,{name:"RSA-OAEP",hash:n},!0,["decrypt"])];case 1:return[2,r.sent()]}}))}))}function it(t,n){return Y(this,void 0,void 0,(function(){var e;return Z(this,(function(r){switch(r.label){case 0:return e=tt(t),[4,window.crypto.subtle.importKey("pkcs8",e,{name:"RSA-PSS",hash:n},!0,["sign"])];case 1:return[2,r.sent()]}}))}))}function ot(t,n,e){return Y(this,void 0,void 0,(function(){var r;return Z(this,(function(i){switch(i.label){case 0:return[4,nt(t,n)];case 1:return r=i.sent(),[4,window.crypto.subtle.encrypt({name:"RSA-OAEP"},r,e)];case 2:return[2,i.sent()]}}))}))}function ct(t,n,e){return Y(this,void 0,void 0,(function(){var r;return Z(this,(function(i){switch(i.label){case 0:return[4,rt(t,n)];case 1:return r=i.sent(),[4,window.crypto.subtle.decrypt({name:"RSA-OAEP"},r,e)];case 2:return[2,i.sent()]}}))}))}function ut(t,n){return ot(t,f["SHA-1"],n)}function at(t,n){return ot(t,f["SHA-256"],n)}function st(t,n){return ot(t,f["SHA-384"],n)}function lt(t,n){return ot(t,f["SHA-512"],n)}function ft(t,n){return ct(t,f["SHA-1"],n)}function ht(t,n){return ct(t,f["SHA-256"],n)}function yt(t,n){return ct(t,f["SHA-384"],n)}function pt(t,n){return ct(t,f["SHA-512"],n)}function dt(t,n,e){return Y(this,void 0,void 0,(function(){var r;return Z(this,(function(i){switch(i.label){case 0:return[4,it(t,n)];case 1:return r=i.sent(),[4,window.crypto.subtle.sign({name:"RSA-PSS",saltLength:h[n]},r,e)];case 2:return[2,i.sent()]}}))}))}function vt(t,n,e,r){return Y(this,void 0,void 0,(function(){var i;return Z(this,(function(o){switch(o.label){case 0:return[4,et(t,e)];case 1:return i=o.sent(),[4,window.crypto.subtle.verify({name:"RSA-PSS",saltLength:h[e]},i,n,r)];case 2:return[2,o.sent()]}}))}))}function bt(t,n){return dt(t,f["SHA-1"],n)}function wt(t,n){return dt(t,f["SHA-256"],n)}function St(t,n){return dt(t,f["SHA-384"],n)}function At(t,n){return dt(t,f["SHA-512"],n)}function gt(t,n,e){return vt(t,n,f["SHA-1"],e)}function Ct(t,n,e){return vt(t,n,f["SHA-256"],e)}function mt(t,n,e){return vt(t,n,f["SHA-384"],e)}function Ht(t,n,e){return vt(t,n,f["SHA-512"],e)}crypsi=n})();
//# sourceMappingURL=crypsi.min.js.map